webpackJsonp([10],{I4t6:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_2__url_api__=__webpack_require__("qKdJ"),__WEBPACK_IMPORTED_MODULE_3__assets_js_store__=__webpack_require__("/VxO"),__WEBPACK_IMPORTED_MODULE_4_vuex__=__webpack_require__("NYxO");__webpack_exports__.a={data:function data(){return{logining:!1,ruleForm2:{account:localStorage.getItem("phone")||"",password:localStorage.getItem("password")||"",grantType:"password"},rules2:{phone:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},grantType:[{value:"captcha",label:"captcha"},{value:"refresh_token",label:"refresh_token"},{value:"password",label:"password"}],checked:eval(localStorage.getItem("checked"))||!1}},methods:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({changeChe:function(e){console.log(e),localStorage.setItem("checked",e)},handleReset2:function(){this.$router.push({path:"/login1"})},handleSubmit2:function handleSubmit2(ev){var _this=this;this.logining=!0;var params=this.ruleForm2,che=eval(localStorage.getItem("checked"));che?(localStorage.setItem("phone",this.ruleForm2.account),localStorage.setItem("password",this.ruleForm2.password)):(localStorage.clear("phone"),localStorage.clear("password")),console.log(),Object(__WEBPACK_IMPORTED_MODULE_2__url_api__._116)(params).then(function(e){if(console.log(e),200===e.status){var t=e.data.data.token||1,_=e.data.data.menus,a=e.data.data.userId,r=e.data.data.tenantCode,s=e.data.data.img;localStorage.setItem("phone",_this.ruleForm2.account),sessionStorage.setItem("userId",a),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("Authorization",t),sessionStorage.setItem("tenantCode",r),sessionStorage.setItem("backgroundImg",s),sessionStorage.setItem("menus",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_)),_this.$route.query.redirect?_this.$router.push({path:_this.$route.query.redirect}):_this.$router.push({path:"/index"})}else _this.$message({message:e.data.msg,type:"error"})}).catch(function(e){console.log(e),_this.logining=!1})}},Object(__WEBPACK_IMPORTED_MODULE_4_vuex__.c)({getNewData:"increment"}),Object(__WEBPACK_IMPORTED_MODULE_4_vuex__.b)({getActions:"increment"})),mounted:function(){this.getActions(),console.log(__WEBPACK_IMPORTED_MODULE_3__assets_js_store__.a.state)}}},K31e:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_("I4t6"),r={render:function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"login"},[_("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[_("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),_("el-form-item",{attrs:{prop:"account"}},[_("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),_("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"checkPass"}},[_("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit2(t)}},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),_("el-checkbox",{staticClass:"remember",on:{change:e.changeChe},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),_("el-form-item",{staticStyle:{width:"100%"}},[_("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var s=function(e){_("pOyS")},o=_("VU/8")(a.a,r,!1,s,"data-v-22e9cd05",null);t.default=o.exports},pOyS:function(e,t){}});
//# sourceMappingURL=10.74cf646594ff8955a1ef.js.map