webpackJsonp([28],{"3zEw":function(t,e){},"F3+c":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("qKdJ"),o={data:function(){return{screensType:1,devicesType:1,total:0,addDialog:!1,dataInfor:JSON.parse(this.$route.query.configInfor),configInfor:[],formData:[],seach:{current:1,size:10}}},methods:{showAddUsers:function(){var t=this;this.addDialog=!0,Object(s._112)(this.seach).then(function(e){console.log(e),200==e.data.code&&(t.formData=e.data.data,t.total=e.data.data.total)})},deletedelDeviceOne:function(t,e){var a=this,o={id:t,typeCode:e};this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.P)(o).then(function(t){console.log(t),200==t.data.code?(a.getList(),a.$message("删除成功")):a.$message("删除失败")})}).catch(function(){})},deletedelModule:function(t,e){var a=this,o={roomId:t,typeCode:e};this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.V)(o).then(function(t){console.log(t),200==t.data.code?(a.getList(),a.$message("删除成功")):a.$message("删除失败")})}).catch(function(){})},getList:function(){var t=this,e=this.dataInfor;Object(s._43)(e).then(function(e){console.log(e),200==e.data.code?t.configInfor=e.data.data:t.$message(e.data.msg)})},changesetNameToEntity:function(t,e){var a=this;console.log(t);var o={tempId:t.id,tempImgName:t.name,tempTypeCode:e||t.typeCode};Object(s._101)(o).then(function(t){console.log(t),200==t.data.code?(a.getList(),a.$message("操作成功")):a.$message("操作失败")})},deletedelProjectConfig:function(t){var e=this,a={projectConfigId:t};Object(s.W)(a).then(function(t){console.log(t),200==t.data.code?(e.$message("删除成功"),e.$router.go(-1)):e.$message("删除失败")})},pushpushThisConfig:function(t){var e=this;console.log(t);var a={configId:t};Object(s._88)(a).then(function(t){console.log(t),200==t.data.code?e.$message("推送成功"):e.$message("推送失败")})},handleCurrentPage:function(t){this.seach.current=t,this.showAddUsers()}},mounted:function(){this.getList(),console.log(JSON.parse(this.$route.query.configInfor))}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"modlude"},[t._l(t.configInfor,function(e){return a("div",{key:e.id,staticClass:"iot_smart_box"},[a("h3",{staticClass:"main_name"},[t._v(t._s(e.main.mainName))]),t._v(" "),a("el-row",{staticClass:"iot_smart_btn"},[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return t.pushpushThisConfig(e.id)}}},[t._v("推送更新")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deletedelProjectConfig(e.id)}}},[t._v("删除工程")])],1),t._v(" "),a("div",{staticClass:"iot_smart_module"},[a("div",[t._v("全局参数")]),t._v(" "),e.globalParam?a("div",{staticClass:"module_cont"},[a("div",{staticClass:"module_cont_json"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("运行模式：")]),a("span",{staticClass:"color_active"},[t._v(t._s(0==e.globalParam.workPattern?"自动":1==e.globalParam.workPattern?"远程":"本地"))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("使用协议：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.globalParam.protocolVersion))])])],1)],1)]):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])]),t._v(" "),a("div",{staticClass:"iot_smart_module"},[a("div",[t._v("工程参数")]),t._v(" "),e.projectParam?a("div",{staticClass:"module_cont"},[a("div",{staticClass:"module_cont_json"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("工程描述：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.describer))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("群组备注：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.groupRemark))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("用户名：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.userName))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("密码：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.userPass))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("服务器：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.serverHost))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("端口：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.serverPort))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("子网ID：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.subnetId))])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("设备ID：")]),a("span",{staticClass:"color_active"},[t._v(t._s(e.projectParam.devId))])])],1)],1)]):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])]),t._v(" "),a("div",{staticClass:"iot_smart_module"},[a("div",[t._v("用户列表 \n        "),a("el-button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{type:"danger",size:"small"},on:{click:t.deletedelModule}},[t._v("删除")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.addDialog=!0}}},[t._v("添加")])],1),t._v(" "),e.users?a("div",{staticClass:"module_cont"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users}},[a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"showName",label:"家园号"}})],1)],1):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])]),t._v(" "),a("div",{staticClass:"iot_smart_module"},[a("div",[t._v("场景列表  \n        "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.screensType,callback:function(e){t.screensType=e},expression:"screensType"}},[a("el-option",{attrs:{label:"激活图片",value:1}}),t._v(" "),a("el-option",{attrs:{label:"未激活图片",value:2}})],1)],1),t._v(" "),e.screens?a("div",{staticClass:"module_cont"},[a("div",{staticClass:"module_cont_screens"},t._l(e.screens,function(e){return a("div",{key:e.id,staticClass:"module_cont_screens_item"},[a("div",[1==t.screensType?a("img",{attrs:{src:e.img,alt:""}}):t._e(),t._v(" "),2==t.screensType?a("img",{attrs:{src:e.imgoff,alt:""}}):t._e()]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入内容",value:e.name},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"scItem.name"}})],1),t._v(" "),a("div",{staticClass:"module_cont_screens_bot"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.changesetNameToEntity(e)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deletedelDeviceOne(e.id,e.typeCode)}}},[t._v("删除")])],1)])}),0)]):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])]),t._v(" "),a("div",{staticClass:"iot_smart_module"},[a("div",[t._v("Room列表  \n        "),a("el-button",{attrs:{type:"warning",size:"small"}},[t._v("修改名称")])],1),t._v(" "),e.zones?a("div",{staticClass:"module_cont"},[a("div",{staticClass:"module_cont_room"},t._l(e.zones,function(e){return a("div",{key:e.id,staticClass:"room_name"},[a("h4",{staticStyle:{"margin-bottom":"20px","text-align":"center"}},[t._v(t._s(e.name))]),t._v(" "),t._l(e.modules,function(e){return a("div",{key:e.id},[a("div",{staticClass:"iot_smart_module"},[a("div",[t._v(t._s(e.name)+"  \n                  "),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",size:"small"},on:{click:function(a){return t.deletedelModule(e.roomId,e.typeCode)}}},[t._v("删除全部")])],1),t._v(" "),e.devices?a("div",{staticClass:"module_cont"},[a("div",{staticClass:"module_cont_screens"},t._l(e.devices,function(s){return a("div",{key:s.id,staticClass:"module_cont_screens_item"},[a("div",[a("img",{attrs:{src:s.img,alt:""}})]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入内容",value:s.name},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"zmmoItemItem.name"}})],1),t._v(" "),a("div",{staticClass:"module_cont_screens_bot"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.changesetNameToEntity(s,e.typeCode)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deletedelDeviceOne(s.id,e.typeCode)}}},[t._v("删除")])],1)])}),0)]):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])])])})],2)}),0)]):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])])],1)}),t._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:t.addDialog},on:{"update:visible":function(e){t.addDialog=e},"selection-change":t.handleSelectionChange}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formData,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sectionName",label:"区域名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"houseName",label:"房间名称"}})],1),t._v(" "),a("paging",{attrs:{"get-total":t.total},on:{changePage:t.handleCurrentPage}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium "},on:{click:function(e){t.addDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"medium "},on:{click:function(e){return t.addList("addList")}}},[t._v("新 增")])],1)],1)],2)},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("3zEw")},"data-v-7a1381b1",null);e.default=l.exports}});
//# sourceMappingURL=28.5d8545fb03ee535cc55d.js.map